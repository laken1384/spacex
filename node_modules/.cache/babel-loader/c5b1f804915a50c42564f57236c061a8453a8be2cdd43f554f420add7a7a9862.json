{"ast":null,"code":"import _objectSpread from\"/Users/laken/\\u6587\\u4EF6/\\u9762\\u8A66/MTK_contractor/test/spacex/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/laken/\\u6587\\u4EF6/\\u9762\\u8A66/MTK_contractor/test/spacex/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import fakeData from\"./MOCK_DATA.json\";import*as React from\"react\";import{useTable,useSortBy,useGlobalFilter,usePagination}from\"react-table\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),sorting=_React$useState2[0],setSorting=_React$useState2[1];var data=React.useMemo(function(){if(sorting.length>0){return sorting;}return fakeData;},[sorting]);var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),pages=_React$useState4[0],setPages=_React$useState4[1];var columns=React.useMemo(function(){return[{Header:\"Mission Name\",accessor:\"mission_name\"},{Header:\"Rocket Name\",accessor:\"rocket_name\"},{Header:\"Rocket Type\",accessor:\"rocket_type\"},{Header:\"Launch Date\",accessor:\"launch_date\"}];},[]);React.useEffect(function(){fetch('https://api.spacexdata.com/v2/launches').then(function(response){return response.json();}).then(function(cells){var cell=cells.map(function(e){var date=new Date(e.launch_date_local);var year=date.getFullYear();var month=\"\".concat(date.getMonth()+1).padStart(2,'0');var day=\"\".concat(date.getDate()).padStart(2,'0');var dateString=\"\".concat(year,\"/\").concat(month,\"/\").concat(day);return{\"mission_name\":e.mission_name,\"rocket_name\":e.rocket.rocket_name,\"rocket_type\":e.rocket.rocket_type,\"launch_date\":dateString};});setSorting(cell);}).catch(function(error){return console.error(error);});},[]);var _useTable=useTable({columns:columns,data:data},useGlobalFilter,useSortBy,usePagination),getTableProps=_useTable.getTableProps,getTableBodyProps=_useTable.getTableBodyProps,headerGroups=_useTable.headerGroups,rows=_useTable.rows,prepareRow=_useTable.prepareRow,setGlobalFilter=_useTable.setGlobalFilter,globalFilter=_useTable.state.globalFilter,canPreviousPage=_useTable.canPreviousPage,canNextPage=_useTable.canNextPage,pageCount=_useTable.pageCount,gotoPage=_useTable.gotoPage,nextPage=_useTable.nextPage,previousPage=_useTable.previousPage,setPageSize=_useTable.setPageSize,pageIndex=_useTable.state.pageIndex;///\nReact.useEffect(function(){setPageSize(20);setPages(pageIndex);},[pageIndex]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return gotoPage(0);},disabled:!canPreviousPage,children:'<<'}),' ',/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return previousPage();},disabled:!canPreviousPage,children:'<'}),' ',/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return nextPage();},disabled:!canNextPage,children:'>'}),' ',/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return gotoPage(pageCount-1);},disabled:!canNextPage,children:'>>'}),' ',/*#__PURE__*/_jsxs(\"span\",{children:[\"Page\",' ',/*#__PURE__*/_jsxs(\"strong\",{children:[pageIndex+1,\" of \",pageCount]}),' ']}),/*#__PURE__*/_jsx(\"input\",{value:globalFilter||'',onChange:function onChange(e){return setGlobalFilter(e.target.value);},placeholder:\"Search...\"}),/*#__PURE__*/_jsxs(\"table\",_objectSpread(_objectSpread({},getTableProps()),{},{children:[/*#__PURE__*/_jsx(\"thead\",{children:headerGroups.map(function(headerGroup){return/*#__PURE__*/_jsx(\"tr\",_objectSpread(_objectSpread({},headerGroup.getHeaderGroupProps()),{},{children:headerGroup.headers.map(function(column){return/*#__PURE__*/_jsxs(\"th\",_objectSpread(_objectSpread({},column.getHeaderProps(column.getSortByToggleProps())),{},{children:[column.render('Header'),column.isSorted?column.isSortedDesc?' 🔽':' 🔼':'']}));})}));})}),/*#__PURE__*/_jsx(\"tbody\",_objectSpread(_objectSpread({},getTableBodyProps()),{},{children:rows.slice(pages*20,pages*20+20).map(function(row){prepareRow(row);return/*#__PURE__*/_jsx(\"tr\",_objectSpread(_objectSpread({},row.getRowProps()),{},{children:row.cells.map(function(cell){return/*#__PURE__*/_jsxs(\"td\",_objectSpread(_objectSpread({},cell.getCellProps()),{},{children:[\" \",cell.render(\"Cell\"),\" \"]}));})}));})}))]}))]})});}export default App;","map":{"version":3,"names":["fakeData","React","useTable","useSortBy","useGlobalFilter","usePagination","jsx","_jsx","jsxs","_jsxs","App","_React$useState","useState","_React$useState2","_slicedToArray","sorting","setSorting","data","useMemo","length","_React$useState3","_React$useState4","pages","setPages","columns","Header","accessor","useEffect","fetch","then","response","json","cells","cell","map","e","date","Date","launch_date_local","year","getFullYear","month","concat","getMonth","padStart","day","getDate","dateString","mission_name","rocket","rocket_name","rocket_type","catch","error","console","_useTable","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","setGlobalFilter","globalFilter","state","canPreviousPage","canNextPage","pageCount","gotoPage","nextPage","previousPage","setPageSize","pageIndex","className","children","onClick","disabled","value","onChange","target","placeholder","_objectSpread","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","getSortByToggleProps","render","isSorted","isSortedDesc","slice","row","getRowProps","getCellProps"],"sources":["/Users/laken/文件/面試/MTK_contractor/test/spacex/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport fakeData from \"./MOCK_DATA.json\";\nimport * as React from \"react\";\nimport { useTable, useSortBy, useGlobalFilter, usePagination } from \"react-table\";\nfunction App() {\n  const [sorting, setSorting] = React.useState([]);\n  const data = React.useMemo(() => {\n    if (sorting.length > 0) {return sorting;}\n    return fakeData;\n  }, [sorting]);\n  const [pages, setPages] = React.useState(0);\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Mission Name\",\n        accessor: \"mission_name\"\n      },\n      {\n        Header: \"Rocket Name\",\n        accessor: \"rocket_name\"\n      },\n      {\n        Header: \"Rocket Type\",\n        accessor: \"rocket_type\"\n      },\n      {\n        Header: \"Launch Date\",\n        accessor: \"launch_date\"\n      },\n    ],\n    []\n  );\n  React.useEffect(()=> {\n    fetch('https://api.spacexdata.com/v2/launches')\n    .then(response => response.json())\n    .then(cells => {\n      let cell = cells.map((e) => {\n        const date = new Date(e.launch_date_local);\n        const year = date.getFullYear();\n        const month = `${(date.getMonth() + 1)}`.padStart(2, '0');\n        const day = `${date.getDate()}`.padStart(2, '0');\n        const dateString = `${year}/${month}/${day}`;\n\n        return {\n        \"mission_name\": e.mission_name,\n        \"rocket_name\": e.rocket.rocket_name,\n        \"rocket_type\": e.rocket.rocket_type,\n        \"launch_date\": dateString\n        }});\n      setSorting(cell);\n    })\n    .catch(error => console.error(error));\n  }, [])\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n\n    setGlobalFilter,\n    state: { globalFilter },\n\n    canPreviousPage,\n    canNextPage,\n    pageCount,\n    gotoPage,\n    nextPage,\n    previousPage,\n    setPageSize,\n    state: { pageIndex },\n  } = useTable(\n    { columns, data },\n    useGlobalFilter,\n    useSortBy,\n    usePagination,\n  )\n  ///\n  React.useEffect(()=> {\n    setPageSize(20);\n    setPages(pageIndex);\n  }, [pageIndex])\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        {/* <Pagination table={table} /> */}\n        <button onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\n          {'<<'}\n        </button>{' '}\n        <button onClick={() => previousPage()} disabled={!canPreviousPage}>\n          {'<'}\n        </button>{' '}\n        <button onClick={() => nextPage()} disabled={!canNextPage}>\n          {'>'}\n        </button>{' '}\n        <button onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\n          {'>>'}\n        </button>{' '}\n        <span>\n          Page{' '}\n          <strong>{pageIndex + 1} of {pageCount}</strong>{' '}\n        </span>\n        <input\n          value={globalFilter || ''}\n          onChange={(e) => setGlobalFilter(e.target.value)}\n          placeholder=\"Search...\"\n        />\n        <table {...getTableProps()}>\n          <thead>\n            {headerGroups.map((headerGroup) => (\n              <tr {...headerGroup.getHeaderGroupProps()}>\n                {headerGroup.headers.map((column) => (\n                  <th {...column.getHeaderProps(column.getSortByToggleProps())}>\n                  {column.render('Header')}\n                  {column.isSorted\n                    ? column.isSortedDesc\n                      ? ' 🔽'\n                      : ' 🔼'\n                    : ''}\n                </th>\n                ))}\n              </tr>\n            ))}\n          </thead>\n          <tbody {...getTableBodyProps()}>\n            {rows.slice(pages * 20, pages * 20 + 20).map((row) => {\n              prepareRow(row);\n              return (\n                <tr {...row.getRowProps()}>\n                  {row.cells.map((cell) => (\n                    <td {...cell.getCellProps()}> {cell.render(\"Cell\")} </td>\n                  ))}\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}